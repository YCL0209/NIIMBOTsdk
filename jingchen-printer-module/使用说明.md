# ç²¾è‡£æ‰“å°æœº TypeScript æ¨¡å— - ä½¿ç”¨è¯´æ˜

## ğŸ‰ æ¨¡å—åˆ›å»ºå®Œæˆï¼

æ‚¨ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ TypeScript å°è£…æ¨¡å—ï¼Œå¯ä»¥è½»æ¾åœ°åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨ç²¾è‡£æ‰“å°æœºè¿›è¡Œæ¡ç æ‰“å°ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
jingchen-printer-module/
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ types.ts             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ config.ts            # é…ç½®å’Œå¸¸é‡
â”‚   â”œâ”€â”€ JingchenPrinter.ts   # ä¸»æ‰“å°æœºç±»
â”‚   â”œâ”€â”€ BarcodeHelper.ts     # æ¡ç è¾…åŠ©ç±»
â”‚   â””â”€â”€ index.ts             # æ¨¡å—å…¥å£
â”œâ”€â”€ dist/                     # ç¼–è¯‘åçš„ä»£ç ï¼ˆå·²ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ *.js                 # JavaScript æ–‡ä»¶
â”‚   â”œâ”€â”€ *.d.ts               # ç±»å‹å£°æ˜æ–‡ä»¶
â”‚   â””â”€â”€ *.js.map             # Source Map
â”œâ”€â”€ test/                     # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ test.html            # æµ‹è¯•é¡µé¢
â”‚   â””â”€â”€ test.ts              # æµ‹è¯•ä»£ç 
â”œâ”€â”€ examples/                 # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ quick-start.ts       # å¿«é€Ÿå…¥é—¨ç¤ºä¾‹
â”œâ”€â”€ README.md                 # è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ package.json             # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â””â”€â”€ webpack.config.js        # Webpack é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1ï¼šè¿è¡Œæµ‹è¯•é¡µé¢

1. **å¯åŠ¨æµ‹è¯•æœåŠ¡å™¨**
   ```bash
   npm run test
   ```

2. **æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€** `http://localhost:8080`

3. **æŒ‰ç…§é¡µé¢æç¤ºæ“ä½œ**ï¼š
   - ç‚¹å‡»"è¿æ¥æ‰“å°æœåŠ¡"
   - ç‚¹å‡»"åˆå§‹åŒ–SDK"
   - ç‚¹å‡»"æ‰«æUSBæ‰“å°æœº"æˆ–"æ‰«æWiFiæ‰“å°æœº"
   - è¿æ¥æ‰¾åˆ°çš„æ‰“å°æœº
   - æµ‹è¯•æ¡ç æ‰“å°åŠŸèƒ½

### æ–¹æ³• 2ï¼šé›†æˆåˆ°æ‚¨çš„ TypeScript é¡¹ç›®

1. **å¤åˆ¶ src ç›®å½•åˆ°æ‚¨çš„é¡¹ç›®**
   ```bash
   cp -r src /path/to/your/project/printer-module
   ```

2. **åœ¨æ‚¨çš„ä»£ç ä¸­ä½¿ç”¨**
   ```typescript
   import { JingchenPrinter, BarcodePrinter, BarcodeType } from './printer-module';

   const printer = new JingchenPrinter();
   const barcodePrinter = new BarcodePrinter(printer);

   // è¿æ¥å¹¶æ‰“å°
   await printer.connectService();
   await printer.initSDK();
   // ... å…¶ä»–æ“ä½œ
   ```

## ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½

### 1. ä¸»æ‰“å°æœºç±» (JingchenPrinter)

å®Œæ•´å°è£…äº†ç²¾è‡£ SDK çš„æ‰€æœ‰åŠŸèƒ½ï¼š
- âœ… WebSocket è¿æ¥ç®¡ç†ï¼ˆè‡ªåŠ¨é‡è¿ï¼‰
- âœ… Promise åŒ– APIï¼ˆä¸å†éœ€è¦å›è°ƒï¼‰
- âœ… æ‰“å°æœºæ‰«æå’Œè¿æ¥
- âœ… æ¡ç ã€æ–‡æœ¬ã€äºŒç»´ç ã€å›¾ç‰‡ç»˜åˆ¶
- âœ… æ‰“å°å’Œé¢„è§ˆåŠŸèƒ½
- âœ… äº‹ä»¶ç›‘å¬æœºåˆ¶

### 2. æ¡ç è¾…åŠ©ç±» (BarcodeHelper)

ç®€åŒ–æ¡ç å‚æ•°é…ç½®ï¼š
- âœ… é“¾å¼è°ƒç”¨
- âœ… è‡ªåŠ¨éªŒè¯æ¡ç å†…å®¹
- âœ… é»˜è®¤å‚æ•°å¤„ç†
- âœ… æ ‡ç­¾å°ºå¯¸è‡ªåŠ¨è®¡ç®—

### 3. å¿«é€Ÿæ‰“å°ç±» (BarcodePrinter)

ä¸€è¡Œä»£ç å®Œæˆæ‰“å°ï¼š
- âœ… quickPrint - å¿«é€Ÿæ‰“å°
- âœ… quickPreview - å¿«é€Ÿé¢„è§ˆ
- âœ… batchPrint - æ‰¹é‡æ‰“å°

### 4. å¸¸ç”¨æ¡ç ç”Ÿæˆå™¨ (CommonBarcodes)

é¢„è®¾å¸¸ç”¨æ¡ç é…ç½®ï¼š
- âœ… code128 - CODE128 æ¡ç 
- âœ… ean13 - EAN13 å•†å“ç 
- âœ… ean8 - EAN8 å•†å“ç 
- âœ… code39 - CODE39 æ¡ç 
- âœ… itf25 - ITF25 ç‰©æµç 

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€æ‰“å°æµç¨‹

```typescript
import { JingchenPrinter, ConnectionType, BarcodeType, RotateAngle, TextPosition } from './src';

const printer = new JingchenPrinter();

// 1. è¿æ¥æ‰“å°æœåŠ¡
await printer.connectService();

// 2. åˆå§‹åŒ– SDK
await printer.initSDK();

// 3. æ‰«æå¹¶è¿æ¥æ‰“å°æœº
const printers = await printer.scanUSBPrinters();
await printer.connectPrinter(ConnectionType.USB, printers[0].printerName, printers[0].port);

// 4. åˆå§‹åŒ–ç”»æ¿
await printer.initBoard({
  width: 40,
  height: 20,
  rotate: RotateAngle.ROTATE_0,
  path: 'ZT001.ttf',
  verticalShift: 0,
  HorizontalShift: 0
});

// 5. ç»˜åˆ¶æ¡ç 
await printer.drawBarcode({
  x: 2,
  y: 2,
  width: 36,
  height: 16,
  value: '12345678',
  codeType: BarcodeType.CODE128,
  rotate: RotateAngle.ROTATE_0,
  fontSize: 3.2,
  textHeight: 3.2,
  textPosition: TextPosition.BOTTOM
});

// 6. æ‰“å°
await printer.print({ count: 1, concentration: 3 });

// 7. ç»“æŸä»»åŠ¡
await printer.endJob();
```

### å¿«é€Ÿæ‰“å°ï¼ˆæ¨èï¼‰

```typescript
import { JingchenPrinter, BarcodePrinter, CommonBarcodes } from './src';

const printer = new JingchenPrinter();
const barcodePrinter = new BarcodePrinter(printer);

// è¿æ¥æœåŠ¡å’Œæ‰“å°æœºï¼ˆçœç•¥...ï¼‰

// ä¸€è¡Œä»£ç æ‰“å° CODE128
await barcodePrinter.quickPrint(
  CommonBarcodes.code128('DEMO-12345', 40, 20)
);

// ä¸€è¡Œä»£ç æ‰“å° EAN13
await barcodePrinter.quickPrint(
  CommonBarcodes.ean13('6901234567892', 40, 20)
);
```

### é“¾å¼è°ƒç”¨

```typescript
import { BarcodeHelper, BarcodeType, TextPosition } from './src';

const params = new BarcodeHelper()
  .setContent('12345678')
  .setType(BarcodeType.CODE128)
  .setLabelSize(40, 20)
  .setMargin(2)
  .setFontSize(3.2)
  .setTextPosition(TextPosition.BOTTOM)
  .build();

await printer.drawBarcode(params);
```

## ğŸ”§ å‰ç½®æ¡ä»¶

### 1. å®‰è£…æ‰“å°æœåŠ¡

**é‡è¦ï¼** å¿…é¡»å…ˆå®‰è£…ç²¾è‡£æ‰“å°æœåŠ¡ï¼š
```bash
# æ‰“å°æœåŠ¡å®‰è£…åŒ…ä½ç½®
../æ‰“å°æœåŠ¡ï¼ˆå¿…é¡»å®‰è£…ï¼‰/
```

å®‰è£…åï¼ŒæœåŠ¡ä¼šåœ¨ `ws://127.0.0.1:37989` ç›‘å¬ã€‚

### 2. è¿æ¥æ‰“å°æœº

- **USBè¿æ¥**ï¼šç›´æ¥è¿æ¥æ‰“å°æœºåˆ°ç”µè„‘
- **WiFiè¿æ¥**ï¼š
  1. å…ˆé€šè¿‡ USB è¿æ¥æ‰“å°æœº
  2. ä½¿ç”¨ `configureWiFi()` é…ç½®æ‰“å°æœº WiFi
  3. æ–­å¼€ USBï¼Œæ‰“å°æœºè‡ªåŠ¨è¿æ¥ WiFi
  4. ä½¿ç”¨ `scanWiFiPrinters()` æ‰«æå¹¶è¿æ¥

### 3. æ”¯æŒçš„æ‰“å°æœºå‹å·

- B ç³»åˆ—ï¼šB1, B21, B3S, B50, B50W, B18
- K ç³»åˆ—ï¼šK2, K3, K3W
- M ç³»åˆ—ï¼šM2, M3
- å…¶ä»–ï¼šD11, D110, T1, T2

## ğŸ“– å®Œæ•´æ–‡æ¡£

è¯¦ç»†çš„ API æ–‡æ¡£ã€é…ç½®è¯´æ˜ã€æœ€ä½³å®è·µç­‰ï¼Œè¯·æŸ¥çœ‹ï¼š
- [README.md](README.md) - å®Œæ•´ä½¿ç”¨æ–‡æ¡£
- [examples/quick-start.ts](examples/quick-start.ts) - å¿«é€Ÿå…¥é—¨ç¤ºä¾‹

## ğŸ¯ ä¸»è¦ä¼˜åŠ¿

ä¸åŸç”Ÿ SDK ç›¸æ¯”ï¼Œæ­¤æ¨¡å—æä¾›ï¼š

| ç‰¹æ€§ | åŸç”Ÿ SDK | TypeScript æ¨¡å— |
|-----|---------|----------------|
| ç±»å‹å®‰å…¨ | âŒ æ— ç±»å‹ | âœ… å®Œæ•´ç±»å‹å®šä¹‰ |
| API é£æ ¼ | å›è°ƒå¼ | Promise/async-await |
| ä»£ç æç¤º | âŒ æ—  | âœ… IDE æ™ºèƒ½æç¤º |
| å‚æ•°éªŒè¯ | æ‰‹åŠ¨ | âœ… è‡ªåŠ¨éªŒè¯ |
| é“¾å¼è°ƒç”¨ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| å¿«é€Ÿæ‰“å° | å¤šæ­¥éª¤ | âœ… ä¸€è¡Œä»£ç  |
| é”™è¯¯å¤„ç† | å›è°ƒé”™è¯¯ | âœ… try-catch |
| äº‹ä»¶ç›‘å¬ | å›è°ƒå‡½æ•° | âœ… äº‹ä»¶é©±åŠ¨ |

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ— æ³•è¿æ¥æ‰“å°æœåŠ¡
**è§£å†³**ï¼š
1. æ£€æŸ¥æ‰“å°æœåŠ¡æ˜¯å¦å·²å®‰è£…
2. æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç¡®è®¤æ‰“å°æœåŠ¡è¿›ç¨‹åœ¨è¿è¡Œ
3. é‡å¯æ‰“å°æœåŠ¡
4. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜ 2ï¼šæ‰¾ä¸åˆ°æ‰“å°æœº
**USB**ï¼š
- é‡æ–°æ’æ‹”æ‰“å°æœº
- æ›´æ¢ USB ç«¯å£
- æ£€æŸ¥é©±åŠ¨ç¨‹åº

**WiFi**ï¼š
- ç¡®ä¿æ‰“å°æœºå’Œç”µè„‘åœ¨åŒä¸€å±€åŸŸç½‘
- é‡æ–°é…ç½®æ‰“å°æœº WiFi
- æ£€æŸ¥è·¯ç”±å™¨è®¾ç½®

### é—®é¢˜ 3ï¼šTypeScript ç¼–è¯‘é”™è¯¯
**è§£å†³**ï¼š
```bash
npm install
npm run build
```

### é—®é¢˜ 4ï¼šæ‰“å°å†…å®¹ä¸ºç©º
**è§£å†³**ï¼š
1. ç¡®è®¤æŒ‰ç…§æ­£ç¡®é¡ºåºè°ƒç”¨ API
2. æ£€æŸ¥ç”»æ¿æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
3. éªŒè¯æ¡ç å†…å®¹æ ¼å¼
4. è°ƒæ•´æ‰“å°æµ“åº¦

## ğŸ’¬ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹ [README.md](README.md) è¯¦ç»†æ–‡æ¡£
2. æŸ¥çœ‹åŸ SDK æ–‡æ¡£ï¼š`../PC ç«¯ Web SDK æ¥å…¥åŒ…ä½¿ç”¨è¯´æ˜.pdf`
3. è¿è¡Œæµ‹è¯•é¡µé¢éªŒè¯åŠŸèƒ½
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. âœ… è¿è¡Œ `npm run test` æ‰“å¼€æµ‹è¯•é¡µé¢ä½“éªŒåŠŸèƒ½
2. âœ… å°† `src/` ç›®å½•é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­
3. âœ… æŸ¥çœ‹ `examples/quick-start.ts` å­¦ä¹ ä½¿ç”¨æ–¹æ³•
4. âœ… é˜…è¯» `README.md` äº†è§£å®Œæ•´ API

**ç¥æ‚¨æ‰“å°æ„‰å¿«ï¼** ğŸ–¨ï¸
